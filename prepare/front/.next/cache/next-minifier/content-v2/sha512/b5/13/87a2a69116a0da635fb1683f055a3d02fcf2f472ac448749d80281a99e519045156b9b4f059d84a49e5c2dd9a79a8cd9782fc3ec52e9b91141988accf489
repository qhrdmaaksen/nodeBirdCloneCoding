{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{RNiq:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"__N_SSP\",(function(){return h}));var c=n(\"q1tI\"),o=n.n(c),a=n(\"/MKj\"),i=n(\"1Dl5\"),l=n(\"ODXe\"),r=n(\"Vl3Y\"),u=n(\"5rEg\"),s=n(\"2/Rp\"),d=n(\"p+NB\"),f=n(\"3zrx\"),m=o.a.createElement,p=function(){var e=Object(a.c)((function(e){return e.post})),t=e.imagePaths,n=e.addPostDone,o=Object(a.b)(),i=Object(f.a)(\"\"),p=Object(l.a)(i,3),b=p[0],g=p[1],h=p[2];Object(c.useEffect)((function(){n&&h(\"\")}),[n]);var w=Object(c.useCallback)((function(){if(!b||!b.trim())return alert(\"\\uac8c\\uc2dc\\uae00\\uc744 \\uc791\\uc131\\ud558\\uc138\\uc694.\");var e=new FormData;return t.forEach((function(t){e.append(\"image\",t)})),e.append(\"content\",b),o({type:d.e,data:e})}),[b,t]),v=Object(c.useRef)(),E=Object(c.useCallback)((function(){v.current.click()}),[v.current]),j=Object(c.useCallback)((function(e){console.log(\"images info :: \",e.target.files);var t=new FormData;[].forEach.call(e.target.files,(function(e){t.append(\"image\",e)})),o({type:d.G,data:t})}),[]),y=Object(c.useCallback)((function(e){return function(){o({type:d.v,data:e})}}),[]);return m(r.a,{style:{margin:\"10px 0 20px\"},encType:\"multipart/form-data\",onFinish:w},m(u.a.TextArea,{value:b,onChange:g,maxLength:140,placeholder:\"\\uc5b4\\ub5a4 \\uc2e0\\uae30\\ud55c \\uc77c\\uc774 \\uc788\\uc5c8\\ub098\\uc694?\"}),m(\"div\",null,m(\"input\",{type:\"file\",name:\"image\",multiple:!0,hidden:!0,ref:v,onChange:j}),m(s.a,{onClick:E},\"\\uc774\\ubbf8\\uc9c0 \\uc5c5\\ub85c\\ub4dc\"),m(s.a,{type:\"primary\",style:{float:\"right\"},htmlType:\"submit\"},\"\\uc9f9\\uc9f9\")),m(\"div\",null,t.map((function(e,t){return m(\"div\",{key:e,style:{display:\"inline-block\"}},m(\"img\",{src:\"http://localhost:3065/\".concat(e),style:{width:\"200px\"},alt:e}),m(\"div\",null,m(s.a,{onClick:y(t)},\"\\uc81c\\uac70\")))}))))},b=n(\"UVsj\"),g=o.a.createElement,h=!0;t.default=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.user})).me,n=Object(a.c)((function(e){return e.post})),o=n.mainPosts,l=n.hasMorePosts,r=n.loadPostsLoading,u=n.retweetError;return Object(c.useEffect)((function(){u&&alert(u)}),[u]),Object(c.useEffect)((function(){function t(){if(console.log(window.scrollY,document.documentElement.clientHeight,document.documentElement.scrollHeight),window.scrollY+document.documentElement.clientHeight>document.documentElement.scrollHeight-300&&l&&!r){var t,n=null===(t=o[o.length-1])||void 0===t?void 0:t.id;e({type:d.n,lastId:n})}}return window.addEventListener(\"scroll\",t),function(){window.removeEventListener(\"scroll\",t)}}),[l,r,o]),g(i.a,null,t&&g(p,null),\" \",o.map((function(e){return g(b.a,{key:e.id,post:e})})))}},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return n(\"RNiq\")}])}},[[\"vlRD\",0,2,6,1,3,4,5,7]]]);","extractedComments":[]}