{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[17],{RNiq:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"__N_SSP\",(function(){return h}));var c=n(\"q1tI\"),o=n.n(c),a=n(\"/MKj\"),i=n(\"1zst\"),l=n(\"ODXe\"),r=n(\"Vl3Y\"),u=n(\"5rEg\"),s=n(\"2/Rp\"),d=n(\"p+NB\"),f=n(\"3zrx\"),m=o.a.createElement,p=function(){var e=Object(a.c)((function(e){return e.post})),t=e.imagePaths,n=e.addPostDone,o=Object(a.b)(),i=Object(f.a)(\"\"),p=Object(l.a)(i,3),b=p[0],g=p[1],h=p[2];Object(c.useEffect)((function(){n&&h(\"\")}),[n]);var w=Object(c.useCallback)((function(){if(!b||!b.trim())return alert(\"\\uac8c\\uc2dc\\uae00\\uc744 \\uc791\\uc131\\ud558\\uc138\\uc694.\");var e=new FormData;return t.forEach((function(t){e.append(\"image\",t)})),e.append(\"content\",b),o({type:d.e,data:e})}),[b,t]),v=Object(c.useRef)(),E=Object(c.useCallback)((function(){v.current.click()}),[v.current]),j=Object(c.useCallback)((function(e){console.log(\"images info :: \",e.target.files);var t=new FormData;[].forEach.call(e.target.files,(function(e){t.append(\"image\",e)})),o({type:d.G,data:t})}),[]),y=Object(c.useCallback)((function(e){return function(){o({type:d.v,data:e})}}),[]);return m(r.a,{style:{margin:\"10px 0 20px\"},encType:\"multipart/form-data\",onFinish:w},m(u.a.TextArea,{value:b,onChange:g,maxLength:140,placeholder:\"\\uc5b4\\ub5a4 \\uc2e0\\uae30\\ud55c \\uc77c\\uc774 \\uc788\\uc5c8\\ub098\\uc694?\"}),m(\"div\",null,m(\"input\",{type:\"file\",name:\"image\",multiple:!0,hidden:!0,ref:v,onChange:j}),m(s.a,{onClick:E},\"\\uc774\\ubbf8\\uc9c0 \\uc5c5\\ub85c\\ub4dc\"),m(s.a,{type:\"primary\",style:{float:\"right\"},htmlType:\"submit\"},\"\\uc9f9\\uc9f9\")),m(\"div\",null,t.map((function(e,t){return m(\"div\",{key:e,style:{display:\"inline-block\"}},m(\"img\",{src:\"http://localhost:3065/\".concat(e),style:{width:\"200px\"},alt:e}),m(\"div\",null,m(s.a,{onClick:y(t)},\"\\uc81c\\uac70\")))}))))},b=n(\"kduo\"),g=o.a.createElement,h=!0;t.default=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.user})).me,n=Object(a.c)((function(e){return e.post})),o=n.mainPosts,l=n.hasMorePosts,r=n.loadPostsLoading,u=n.retweetError;return Object(c.useEffect)((function(){u&&alert(u)}),[u]),Object(c.useEffect)((function(){function t(){if(console.log(window.scrollY,document.documentElement.clientHeight,document.documentElement.scrollHeight),window.scrollY+document.documentElement.clientHeight>document.documentElement.scrollHeight-300&&l&&!r){var t,n=null===(t=o[o.length-1])||void 0===t?void 0:t.id;e({type:d.n,lastId:n})}}return window.addEventListener(\"scroll\",t),function(){window.removeEventListener(\"scroll\",t)}}),[l,r,o]),g(i.a,null,t&&g(p,null),\" \",o.map((function(e){return g(b.a,{key:e.id,post:e})})))}},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return n(\"RNiq\")}])}},[[\"vlRD\",0,1,6,2,3,4,5,7]]]);","map":{"version":3,"sources":["static/chunks/pages/index-89723f23a84bc5cb33ff.js"],"names":["_N_E","window","push","RNiq","module","__webpack_exports__","__webpack_require__","r","d","__N_SSP","react","react_default","n","es","AppLayout","slicedToArray","es_form","input","es_button","reducers_post","useInput","__jsx","a","createElement","components_PostForm","_useSelector","Object","state","post","imagePaths","addPostDone","dispatch","_useInput","_useInput2","text","onChangeText","setText","onSubmit","trim","alert","formData","FormData","forEach","p","append","type","data","imageInput","onClickImageUpload","current","click","onChangeImages","e","console","log","target","files","imageFormData","call","f","onRemoveImage","index","style","margin","encType","onFinish","TextArea","value","onChange","maxLength","placeholder","name","multiple","hidden","ref","onClick","float","htmlType","map","v","i","key","display","src","concat","width","alt","PostCard","pages_jsx","me","user","_useSelector2","mainPosts","hasMorePosts","loadPostsLoading","retweetError","onScroll","scrollY","document","documentElement","clientHeight","scrollHeight","_mainPosts","lastId","length","id","addEventListener","removeEventListener","vlRD","exports","__NEXT_P"],"mappings":"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"},"extractedComments":[]}